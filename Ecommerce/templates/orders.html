{% extends 'base.html' %}
{% load cart%}
{% block title %}
    Orders
{% endblock %}

{% block content %}

    <div class="container">
        <p class="display-4">Orders</p>
		<div class="m-3 table-responsive">

			<table class="table table-hover" id="myTable" class="display">
				<thead>
					<tr>
						<th scope="col">Sno.</th>
						<th scope="col">Image</th>
						<th scope="col">Name</th>
						<th scope="col">Price</th>
						<th scope="col">Quantity</th>
						<th scope="col">Total</th>
					</tr>
				</thead>
				<tbody>
					{% for order in orders %}
                    <tr>

                        <th scope="row">{{forloop.counter}}</th>
                        <td><img src="{{order.product.pImage.url}}" style="height: 75px;"></td>
                        <td>{{order.product.pName}}</td>
                        <td>&#8377;&nbsp;{{order.product.pPrice}}</td>
                        <td>{{order.quantity}}</td>
                        <td>{{order.quantity|multiply:order.product.pPrice}}</td>

                    </tr>
                    {% endfor %}
						
				</tbody>

			</table>
		</div>
	</div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
		integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script type="text/javascript" charset="utf8"
		src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
	<script>
		$(document).ready(function() {
			$('#myTable').DataTable({
				"dom" : ' <"#length"l><"#search"f>rt<"info"i><"page"p>',
				"stateSave" : true
			});
		});
	</script>
{% endblock %}